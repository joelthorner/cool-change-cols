/*!
 * Cool Change Cols v1.5.0
 * http://joelthorner.com
 *
 * Copyright 2016 Joel Thorner - @joelthorner
 */
!function(e){e.fn.coolChangeCols=function(o,t){function i(o){function t(e){e(d.mobileView)}function i(e){e(d.activeDefault)}if("no-mobile"!=o){var a=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),c=e(window).innerWidth();a&&(c+=17),c>d.mobileWidth?(n(Cookies.get(d.nameCookie)),d.hideControlsOnMobile&&e("[data-ccc-view-name]").show(),o===!0&&i(d.afterOutViewMobile)):(n(d.mobileView),d.hideControlsOnMobile&&e("[data-ccc-view-name]").hide(),t(d.afterChangeViewMobile))}else n(Cookies.get(d.nameCookie))}function n(o){d.effect?h?C(o,"load"):C(d.activeDefault,"load"):(e(d.itemToChangeSelector).hide(),h?a(h,"load"):a(d.activeDefault,"load"),e(d.itemToChangeSelector).show())}function a(o,t){"buttonClick"===t&&Cookies.set(d.nameCookie,o,{expires:d.cookieDays});var i=e('[data-ccc-view-name="'+o+'"]');if(!i.hasClass(d.classActiveButton)){"load"!=t?r(d.beforeChangeView):"load"==t&&f(d.beforeLoadView),e("[data-ccc-view-name]").removeClass(d.classActiveButton),i.addClass(d.classActiveButton);var n=i.data("ccc-item-view");e(d.itemToChangeSelector).each(function(o,t){e(this).attr("class",n)})}}function c(e){var o=s();e(o)}function l(e){var o=s();e(o)}function r(e){var o=s();e(o)}function f(e){var o=s();e(o)}function s(){var e=Cookies.get(d.nameCookie);return e?e:d.activeDefault}function u(){e("[data-ccc-view-name]").each(function(o,t){e(this).click(function(o){Cookies.set(d.nameCookie,e(this).data("ccc-view-name"),{expires:d.cookieDays}),d.effect?C(Cookies.get(d.nameCookie),"buttonClick"):a(e(this).data("ccc-view-name"),"buttonClick")})})}function C(o,t){var i=d.timeEffect,n=d.timeEffect;if("load"==t){var r=0,f=e(d.itemToChangeSelector).length;n=2*d.timeEffect,e(d.itemToChangeSelector).hide(),a(o,t),e(d.itemToChangeSelector).fadeIn(n,function(){r==f&&l(d.afterLoadView),r++})}else{var r=0,f=e(d.itemToChangeSelector).length;e(d.itemToChangeSelector).fadeOut(i,function(){a(o,t),e(d.itemToChangeSelector).fadeIn(n,function(){r==f&&c(d.afterChangeView),r++})})}}var m="cool-change-cols: ",d=e.extend({activeDefault:null,itemToChangeSelector:null,nameCookie:null,classActiveButton:"active",mobileView:null,mobileWidth:480,cookieDays:5,hideControlsOnMobile:!1,effect:!0,timeEffect:300,afterChangeView:function(){},afterLoadView:function(){},beforeChangeView:function(){},beforeLoadView:function(){},afterChangeViewMobile:function(){},afterOutViewMobile:function(){}},o);0===e("[data-ccc-view-name]").length&&console.error(m+"[ERROR] - Have not been found views!"),1===e("[data-ccc-view-name]").length&&console.log(m+"[WARNING] - Have not been found views!"),null==d.activeDefault&&console.error(m+"[ERROR] - activeDefault setting is required"),null==d.itemToChangeSelector&&console.error(m+"[ERROR] - itemToChangeSelector setting is required"),null==d.nameCookie&&console.error(m+"[ERROR] - nameCookie setting is required");var h=Cookies.get(d.nameCookie);return u(),t&&"string"==typeof t?n(t):null!=d.mobileView?(i(!1),e(window).resize(function(e){i(!0)})):i("no-mobile"),d.nameCookie}}(jQuery);